var Oe=t=>{throw TypeError(t)};var ve=(t,s,r)=>s.has(t)||Oe("Cannot "+r);var y=(t,s,r)=>(ve(t,s,"read from private field"),r?r.call(t):s.get(t)),V=(t,s,r)=>s.has(t)?Oe("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),Q=(t,s,r,n)=>(ve(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),J=(t,s,r)=>(ve(t,s,"access private method"),r);import{m as Rt,s as Et,H as $e,I as At,A as ze,B as Mt,r as d,c as U,b as He,j as e,X as Dt,g as Ae,P as K,a as R,f as Ut,k as _t,h as Ve,J as Ot,i as M,C as $t,K as be}from"./index-D1Y5wVUw.js";import{H as ye,F as Ne}from"./Footer-Cq_PWh9t.js";import{e as oe,E as Lt,B as Ce,D as de,f as Ie,a as ue,b as me,c as xe,S as Gt,T as qt,P as Kt,d as Bt}from"./ProductDetailModal-BjEVBaI9.js";import{C,a as I,b as z,c as H}from"./card-CD_rEnQT.js";import{B as F}from"./button-DIM2K2Cq.js";import{L as Y,I as q}from"./label-Dha4I_Vm.js";import{T as zt,S as Qe,a as Je,b as We,c as Xe,d as X,u as Ye,i as Ze}from"./select-BufhFT-J.js";import{u as Ht,t as Vt,F as Qt,a as ee,b as te,c as ce,d as se,e as re,z as W}from"./form-BrS1Tf4e.js";import{n as Jt,s as Wt,C as Le,u as Xt}from"./LazyImage-DSaGdlIa.js";import{U as Ge}from"./users-BDJC3Idc.js";var L,G,P,A,D,he,Pe,Be,Yt=(Be=class extends Rt{constructor(s,r){super();V(this,D);V(this,L);V(this,G);V(this,P);V(this,A);Q(this,L,s),this.setOptions(r),this.bindMethods(),J(this,D,he).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=y(this,L).defaultMutationOptions(s),Et(this.options,r)||y(this,L).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,P),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$e(r.mutationKey)!==$e(this.options.mutationKey)?this.reset():((n=y(this,P))==null?void 0:n.state.status)==="pending"&&y(this,P).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=y(this,P))==null||s.removeObserver(this)}onMutationUpdate(s){J(this,D,he).call(this),J(this,D,Pe).call(this,s)}getCurrentResult(){return y(this,G)}reset(){var s;(s=y(this,P))==null||s.removeObserver(this),Q(this,P,void 0),J(this,D,he).call(this),J(this,D,Pe).call(this)}mutate(s,r){var n;return Q(this,A,r),(n=y(this,P))==null||n.removeObserver(this),Q(this,P,y(this,L).getMutationCache().build(y(this,L),this.options)),y(this,P).addObserver(this),y(this,P).execute(s)}},L=new WeakMap,G=new WeakMap,P=new WeakMap,A=new WeakMap,D=new WeakSet,he=function(){var r;const s=((r=y(this,P))==null?void 0:r.state)??At();Q(this,G,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Pe=function(s){ze.batch(()=>{var r,n,l,p,x,c,o,m;if(y(this,A)&&this.hasListeners()){const a=y(this,G).variables,u=y(this,G).context;(s==null?void 0:s.type)==="success"?((n=(r=y(this,A)).onSuccess)==null||n.call(r,s.data,a,u),(p=(l=y(this,A)).onSettled)==null||p.call(l,s.data,null,a,u)):(s==null?void 0:s.type)==="error"&&((c=(x=y(this,A)).onError)==null||c.call(x,s.error,a,u),(m=(o=y(this,A)).onSettled)==null||m.call(o,void 0,s.error,a,u))}this.listeners.forEach(a=>{a(y(this,G))})})},Be);function we(t,s){const r=Mt(),[n]=d.useState(()=>new Yt(r,t));d.useEffect(()=>{n.setOptions(t)},[n,t]);const l=d.useSyncExternalStore(d.useCallback(x=>n.subscribe(ze.batchCalls(x)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),p=d.useCallback((x,c)=>{n.mutate(x,c).catch(Jt)},[n]);if(l.error&&Wt(n.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:p,mutateAsync:l.mutate}}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=U("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=U("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=U("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=U("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=U("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=U("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);function as({value:t,onChange:s,disabled:r=!1,className:n=""}){const[l,p]=d.useState(!1),[x,c]=d.useState(t||null),o=d.useRef(null),{toast:m}=He(),a=w=>{var T;const g=(T=w.target.files)==null?void 0:T[0];if(!g)return;if(!g.type.startsWith("image/")){m({title:"Invalid file type",description:"Please select an image file (JPG, PNG, GIF, etc.)",variant:"destructive"});return}if(g.size>5*1024*1024){m({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}const k=new FileReader;k.onload=N=>{var E;const S=(E=N.target)==null?void 0:E.result;c(S)},k.readAsDataURL(g),p(!0),setTimeout(()=>{const N=`https://via.placeholder.com/400x300/f3f4f6/6b7280?text=${encodeURIComponent(g.name)}`;s(N),p(!1),m({title:"Image uploaded",description:"Image has been successfully uploaded"})},2e3)},u=()=>{c(null),s(""),o.current&&(o.current.value="")},j=()=>{var w;r||(w=o.current)==null||w.click()};return e.jsxs("div",{className:`space-y-2 ${n}`,children:[e.jsx(Y,{children:"Product Image"}),x?e.jsx(C,{className:"relative group",children:e.jsx(I,{className:"p-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(F,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:u,disabled:r||l,children:e.jsx(Dt,{className:"h-4 w-4"})})]})})}):e.jsx(C,{className:`border-2 border-dashed border-muted-foreground/25 hover:border-muted-foreground/50 transition-colors cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,onClick:j,children:e.jsx(I,{className:"flex flex-col items-center justify-center py-12",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"h-8 w-8 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Click to upload image"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]})})}),e.jsx(q,{ref:o,type:"file",accept:"image/*",onChange:a,className:"hidden",disabled:r||l}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{className:"text-sm text-muted-foreground",children:"Or enter image URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{placeholder:"https://example.com/image.jpg",value:t||"",onChange:w=>s(w.target.value),disabled:r,className:"flex-1"}),e.jsx(F,{type:"button",variant:"outline",size:"icon",onClick:()=>{t&&c(t)},disabled:r||!t,children:e.jsx(es,{className:"h-4 w-4"})})]})]})]})}const ns=W.object({name:W.string().min(1,"Product name is required"),description:W.string().min(1,"Description is required"),price:W.number().min(0,"Price must be positive"),category:W.string().min(1,"Category is required"),image:W.string().optional()});function Se({onSubmit:t,onCancel:s,defaultValues:r,isEditing:n=!1,isSubmitting:l=!1}){const[p,x]=d.useState(!1),c=l||p,o=Ht({resolver:Vt(ns),defaultValues:{name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",price:(r==null?void 0:r.price)||0,category:(r==null?void 0:r.category)||"",image:(r==null?void 0:r.image)||""}}),m=async a=>{l||(x(!0),console.log(`${n?"Updating":"Creating"} product:`,a),await new Promise(u=>setTimeout(u,1e3)),t(a),x(!1))};return e.jsxs(C,{className:"w-full max-w-2xl mx-auto",children:[e.jsx(z,{children:e.jsx(H,{"data-testid":"text-form-title",children:n?"Edit Product":"Add New Product"})}),e.jsx(I,{children:e.jsx(Qt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(m),className:"space-y-6",children:[e.jsx(ee,{control:o.control,name:"name",render:({field:a})=>e.jsxs(te,{children:[e.jsx(ce,{children:"Product Name"}),e.jsx(se,{children:e.jsx(q,{placeholder:"Enter product name","data-testid":"input-product-name",...a})}),e.jsx(re,{})]})}),e.jsx(ee,{control:o.control,name:"description",render:({field:a})=>e.jsxs(te,{children:[e.jsx(ce,{children:"Description"}),e.jsx(se,{children:e.jsx(zt,{placeholder:"Enter product description",rows:4,"data-testid":"input-product-description",...a})}),e.jsx(re,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ee,{control:o.control,name:"price",render:({field:a})=>e.jsxs(te,{children:[e.jsx(ce,{children:"Price (per meter)"}),e.jsx(se,{children:e.jsx(q,{type:"number",placeholder:"0","data-testid":"input-product-price",...a,onChange:u=>a.onChange(Number(u.target.value))})}),e.jsx(re,{})]})}),e.jsx(ee,{control:o.control,name:"category",render:({field:a})=>e.jsxs(te,{children:[e.jsx(ce,{children:"Category"}),e.jsxs(Qe,{onValueChange:a.onChange,defaultValue:a.value,children:[e.jsx(se,{children:e.jsx(Je,{"data-testid":"select-product-category",children:e.jsx(We,{placeholder:"Select category"})})}),e.jsxs(Xe,{children:[e.jsx(X,{value:"School Uniforms",children:"School Uniforms"}),e.jsx(X,{value:"Staff Uniforms",children:"Staff Uniforms"}),e.jsx(X,{value:"Security Uniforms",children:"Security Uniforms"}),e.jsx(X,{value:"Corporate Suiting",children:"Corporate Suiting"}),e.jsx(X,{value:"Custom",children:"Custom"})]})]}),e.jsx(re,{})]})})]}),e.jsx(ee,{control:o.control,name:"image",render:({field:a})=>e.jsxs(te,{children:[e.jsx(se,{children:e.jsx(as,{value:a.value,onChange:a.onChange,disabled:c})}),e.jsx(re,{})]})}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(F,{type:"submit",className:"flex-1",disabled:c,"data-testid":"button-submit-product",children:c?"Saving...":n?"Update Product":"Add Product"}),e.jsx(F,{type:"button",variant:"outline",className:"flex-1",onClick:s,"data-testid":"button-cancel-product",children:"Cancel"})]})]})})})]})}var Me="Progress",De=100,[os,zs]=Ae(Me),[is,cs]=os(Me),et=d.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:l,getValueLabel:p=ls,...x}=t;(l||l===0)&&!qe(l)&&console.error(ds(`${l}`,"Progress"));const c=qe(l)?l:De;n!==null&&!Ke(n,c)&&console.error(us(`${n}`,"Progress"));const o=Ke(n,c)?n:null,m=fe(o)?p(o,c):void 0;return e.jsx(is,{scope:r,value:o,max:c,children:e.jsx(K.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":fe(o)?o:void 0,"aria-valuetext":m,role:"progressbar","data-state":rt(o,c),"data-value":o??void 0,"data-max":c,...x,ref:s})})});et.displayName=Me;var tt="ProgressIndicator",st=d.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,l=cs(tt,r);return e.jsx(K.div,{"data-state":rt(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...n,ref:s})});st.displayName=tt;function ls(t,s){return`${Math.round(t/s*100)}%`}function rt(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function fe(t){return typeof t=="number"}function qe(t){return fe(t)&&!isNaN(t)&&t>0}function Ke(t,s){return fe(t)&&!isNaN(t)&&t<=s&&t>=0}function ds(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${De}\`.`}function us(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${De} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var at=et,ms=st;const Fe=d.forwardRef(({className:t,value:s,...r},n)=>e.jsx(at,{ref:n,className:R("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(ms,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Fe.displayName=at.displayName;function xs({products:t}){const s=t.length,r=Array.from(new Set(t.map(a=>a.category))),n=t.length>0?Math.round(t.reduce((a,u)=>a+u.price,0)/t.length):0,l=t.length>0?Math.min(...t.map(a=>a.price)):0,p=t.length>0?Math.max(...t.map(a=>a.price)):0,x=r.map(a=>{const u=t.filter(j=>j.category===a);return{name:a,count:u.length,percentage:Math.round(u.length/s*100),avgPrice:Math.round(u.reduce((j,w)=>j+w.price,0)/u.length)}}),c=[{label:"₹0-300",min:0,max:300,count:0},{label:"₹300-500",min:300,max:500,count:0},{label:"₹500-700",min:500,max:700,count:0},{label:"₹700+",min:700,max:1/0,count:0}];c.forEach(a=>{a.count=t.filter(u=>u.price>=a.min&&u.price<a.max).length});const o={totalViews:1247,totalInquiries:23,conversionRate:1.85,avgResponseTime:"2.3 hours",monthlyGrowth:12.5},m=[{title:"Total Products",value:s,icon:oe,color:"text-blue-600",change:"+2 this month"},{title:"Categories",value:r.length,icon:pe,color:"text-green-600",change:"3 active"},{title:"Avg. Price",value:`₹${n}`,icon:Z,color:"text-purple-600",change:`₹${l}-₹${p} range`},{title:"Page Views",value:o.totalViews.toLocaleString(),icon:Lt,color:"text-orange-600",change:`+${o.monthlyGrowth}% this month`},{title:"Inquiries",value:o.totalInquiries,icon:ts,color:"text-cyan-600",change:`${o.conversionRate}% conversion`},{title:"Response Time",value:o.avgResponseTime,icon:Le,color:"text-pink-600",change:"Avg. response"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((a,u)=>e.jsx(C,{className:"hover-elevate",children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a.title}),e.jsx("p",{className:"text-2xl font-bold",children:a.value}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.change})]}),e.jsx("div",{className:"p-3 rounded-lg bg-muted",children:e.jsx(a.icon,{className:`h-6 w-6 ${a.color}`})})]})})},u))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(z,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Products by Category"]})}),e.jsx(I,{className:"space-y-4",children:x.map((a,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:a.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ce,{variant:"secondary",children:[a.count," products"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["₹",a.avgPrice," avg"]})]})]}),e.jsx(Fe,{value:a.percentage,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.percentage,"% of total products"]})]},u))})]}),e.jsxs(C,{children:[e.jsx(z,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Price Distribution"]})}),e.jsx(I,{className:"space-y-4",children:c.map((a,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:a.label}),e.jsxs(Ce,{variant:"outline",children:[a.count," products"]})]}),e.jsx(Fe,{value:s>0?a.count/s*100:0,className:"h-2"})]},u))})]})]}),e.jsxs(C,{children:[e.jsx(z,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-5 w-5"}),"Recent Activity"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:[{action:"New product added",item:"Premium School Uniform Fabric",time:"2 hours ago"},{action:"Product updated",item:"Security Guard Uniform Material",time:"4 hours ago"},{action:"New inquiry received",item:"Bulk order for 500 meters",time:"6 hours ago"},{action:"Quote request",item:"Corporate Staff Uniforms",time:"1 day ago"},{action:"Product viewed",item:"Executive School Blazer Material",time:"2 days ago"}].map((a,u)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:a.action}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.item})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:a.time})]},u))})})]})]})}const nt=d.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:R("w-full caption-bottom text-sm",t),...s})}));nt.displayName="Table";const ot=d.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:R("[&_tr]:border-b",t),...s}));ot.displayName="TableHeader";const it=d.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:R("[&_tr:last-child]:border-0",t),...s}));it.displayName="TableBody";const hs=d.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:R("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));hs.displayName="TableFooter";const Re=d.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:R("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Re.displayName="TableRow";const O=d.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:R("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));O.displayName="TableHead";const $=d.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:R("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));$.displayName="TableCell";const ps=d.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:R("mt-4 text-sm text-muted-foreground",t),...s}));ps.displayName="TableCaption";function fs({products:t}){var T,N,S,E,h,f;const[s,r]=d.useState([{id:"1",productId:((T=t[0])==null?void 0:T.id)||"",productName:((N=t[0])==null?void 0:N.name)||"Premium School Uniform Fabric",category:"School Uniforms",currentStock:150,minStock:50,maxStock:500,unit:"meters",lastUpdated:new Date,status:"in-stock"},{id:"2",productId:((S=t[1])==null?void 0:S.id)||"",productName:((E=t[1])==null?void 0:E.name)||"Security Guard Uniform Material",category:"Security Uniforms",currentStock:25,minStock:30,maxStock:200,unit:"meters",lastUpdated:new Date,status:"low-stock"},{id:"3",productId:((h=t[2])==null?void 0:h.id)||"",productName:((f=t[2])==null?void 0:f.name)||"Corporate Staff Uniform Fabric",category:"Staff Uniforms",currentStock:0,minStock:20,maxStock:150,unit:"meters",lastUpdated:new Date,status:"out-of-stock"}]),[n,l]=d.useState(!1),[p,x]=d.useState(null),[c,o]=d.useState({productId:"",minStock:0,maxStock:0,currentStock:0}),m=i=>{switch(i){case"in-stock":return"bg-green-100 text-green-800";case"low-stock":return"bg-yellow-100 text-yellow-800";case"out-of-stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=i=>{switch(i){case"in-stock":return e.jsx(Zt,{className:"h-4 w-4"});case"low-stock":return e.jsx(le,{className:"h-4 w-4"});case"out-of-stock":return e.jsx(le,{className:"h-4 w-4"});default:return null}},u=(i,b)=>{r(v=>v.map(_=>{if(_.id===i){const ie=b===0?"out-of-stock":b<=_.minStock?"low-stock":"in-stock";return{..._,currentStock:b,status:ie,lastUpdated:new Date}}return _}))},j=()=>{const i=t.find(v=>v.id===c.productId);if(!i)return;const b={id:Date.now().toString(),productId:c.productId,productName:i.name,category:i.category,currentStock:c.currentStock,minStock:c.minStock,maxStock:c.maxStock,unit:"meters",lastUpdated:new Date,status:c.currentStock===0?"out-of-stock":c.currentStock<=c.minStock?"low-stock":"in-stock"};r(v=>[...v,b]),o({productId:"",minStock:0,maxStock:0,currentStock:0}),l(!1)},w=i=>{r(b=>b.filter(v=>v.id!==i))},g=s.filter(i=>i.status==="low-stock"||i.status==="out-of-stock"),k=s.reduce((i,b)=>{const v=t.find(_=>_.id===b.productId);return i+(v?v.price*b.currentStock:0)},0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(oe,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:g.length})]}),e.jsx(le,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.filter(i=>i.status==="out-of-stock").length})]}),e.jsx(le,{className:"h-8 w-8 text-red-600"})]})})}),e.jsx(C,{children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",k.toLocaleString()]})]}),e.jsx(Z,{className:"h-8 w-8 text-green-600"})]})})})]}),e.jsxs(C,{children:[e.jsx(z,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{children:"Inventory Management"}),e.jsxs(de,{open:n,onOpenChange:l,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Add Item"]})}),e.jsxs(ue,{children:[e.jsx(me,{children:e.jsx(xe,{children:"Add Inventory Item"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"Product"}),e.jsxs(Qe,{value:c.productId,onValueChange:i=>o(b=>({...b,productId:i})),children:[e.jsx(Je,{children:e.jsx(We,{placeholder:"Select product"})}),e.jsx(Xe,{children:t.map(i=>e.jsx(X,{value:i.id,children:i.name},i.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"Current Stock"}),e.jsx(q,{type:"number",value:c.currentStock,onChange:i=>o(b=>({...b,currentStock:Number(i.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Min Stock"}),e.jsx(q,{type:"number",value:c.minStock,onChange:i=>o(b=>({...b,minStock:Number(i.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Max Stock"}),e.jsx(q,{type:"number",value:c.maxStock,onChange:i=>o(b=>({...b,maxStock:Number(i.target.value)}))})]})]}),e.jsx(F,{onClick:j,className:"w-full",children:"Add Item"})]})]})]})]})}),e.jsx(I,{children:e.jsxs(nt,{children:[e.jsx(ot,{children:e.jsxs(Re,{children:[e.jsx(O,{children:"Product"}),e.jsx(O,{children:"Category"}),e.jsx(O,{children:"Current Stock"}),e.jsx(O,{children:"Min/Max"}),e.jsx(O,{children:"Status"}),e.jsx(O,{children:"Last Updated"}),e.jsx(O,{children:"Actions"})]})}),e.jsx(it,{children:s.map(i=>e.jsxs(Re,{children:[e.jsx($,{className:"font-medium",children:i.productName}),e.jsx($,{children:i.category}),e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{type:"number",value:i.currentStock,onChange:b=>u(i.id,Number(b.target.value)),className:"w-20"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.unit})]})}),e.jsxs($,{className:"text-sm text-muted-foreground",children:[i.minStock,"/",i.maxStock]}),e.jsx($,{children:e.jsxs(Ce,{className:`${m(i.status)} flex items-center gap-1 w-fit`,children:[a(i.status),i.status.replace("-"," ")]})}),e.jsx($,{className:"text-sm text-muted-foreground",children:i.lastUpdated.toLocaleDateString()}),e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:"ghost",size:"icon",onClick:()=>x(i),children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(F,{variant:"ghost",size:"icon",onClick:()=>w(i.id),children:e.jsx(qt,{className:"h-4 w-4"})})]})})]},i.id))})]})})]})]})}var ke="rovingFocusGroup.onEntryFocus",gs={bubbles:!1,cancelable:!0},ge="RovingFocusGroup",[Ee,ct,js]=Ut(ge),[vs,lt]=Ae(ge,[js]),[bs,ys]=vs(ge),dt=d.forwardRef((t,s)=>e.jsx(Ee.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ee.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ns,{...t,ref:s})})}));dt.displayName=ge;var Ns=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:l=!1,dir:p,currentTabStopId:x,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:o,onEntryFocus:m,preventScrollOnEntryFocus:a=!1,...u}=t,j=d.useRef(null),w=_t(s,j),g=Ye(p),[k=null,T]=Ve({prop:x,defaultProp:c,onChange:o}),[N,S]=d.useState(!1),E=Ot(m),h=ct(r),f=d.useRef(!1),[i,b]=d.useState(0);return d.useEffect(()=>{const v=j.current;if(v)return v.addEventListener(ke,E),()=>v.removeEventListener(ke,E)},[E]),e.jsx(bs,{scope:r,orientation:n,dir:g,loop:l,currentTabStopId:k,onItemFocus:d.useCallback(v=>T(v),[T]),onItemShiftTab:d.useCallback(()=>S(!0),[]),onFocusableItemAdd:d.useCallback(()=>b(v=>v+1),[]),onFocusableItemRemove:d.useCallback(()=>b(v=>v-1),[]),children:e.jsx(K.div,{tabIndex:N||i===0?-1:0,"data-orientation":n,...u,ref:w,style:{outline:"none",...t.style},onMouseDown:M(t.onMouseDown,()=>{f.current=!0}),onFocus:M(t.onFocus,v=>{const _=!f.current;if(v.target===v.currentTarget&&_&&!N){const ie=new CustomEvent(ke,gs);if(v.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const je=h().filter(B=>B.focusable),Pt=je.find(B=>B.active),Tt=je.find(B=>B.id===k),Ft=[Pt,Tt,...je].filter(Boolean).map(B=>B.ref.current);xt(Ft,a)}}f.current=!1}),onBlur:M(t.onBlur,()=>S(!1))})})}),ut="RovingFocusGroupItem",mt=d.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:l=!1,tabStopId:p,...x}=t,c=Ze(),o=p||c,m=ys(ut,r),a=m.currentTabStopId===o,u=ct(r),{onFocusableItemAdd:j,onFocusableItemRemove:w}=m;return d.useEffect(()=>{if(n)return j(),()=>w()},[n,j,w]),e.jsx(Ee.ItemSlot,{scope:r,id:o,focusable:n,active:l,children:e.jsx(K.span,{tabIndex:a?0:-1,"data-orientation":m.orientation,...x,ref:s,onMouseDown:M(t.onMouseDown,g=>{n?m.onItemFocus(o):g.preventDefault()}),onFocus:M(t.onFocus,()=>m.onItemFocus(o)),onKeyDown:M(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){m.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const k=ks(g,m.orientation,m.dir);if(k!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let N=u().filter(S=>S.focusable).map(S=>S.ref.current);if(k==="last")N.reverse();else if(k==="prev"||k==="next"){k==="prev"&&N.reverse();const S=N.indexOf(g.currentTarget);N=m.loop?Cs(N,S+1):N.slice(S+1)}setTimeout(()=>xt(N))}})})})});mt.displayName=ut;var ws={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ss(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ks(t,s,r){const n=Ss(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ws[n]}function xt(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function Cs(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var Is=dt,Ps=mt,Ue="Tabs",[Ts,Hs]=Ae(Ue,[lt]),ht=lt(),[Fs,_e]=Ts(Ue),pt=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:l,defaultValue:p,orientation:x="horizontal",dir:c,activationMode:o="automatic",...m}=t,a=Ye(c),[u,j]=Ve({prop:n,onChange:l,defaultProp:p});return e.jsx(Fs,{scope:r,baseId:Ze(),value:u,onValueChange:j,orientation:x,dir:a,activationMode:o,children:e.jsx(K.div,{dir:a,"data-orientation":x,...m,ref:s})})});pt.displayName=Ue;var ft="TabsList",gt=d.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...l}=t,p=_e(ft,r),x=ht(r);return e.jsx(Is,{asChild:!0,...x,orientation:p.orientation,dir:p.dir,loop:n,children:e.jsx(K.div,{role:"tablist","aria-orientation":p.orientation,...l,ref:s})})});gt.displayName=ft;var jt="TabsTrigger",vt=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:l=!1,...p}=t,x=_e(jt,r),c=ht(r),o=Nt(x.baseId,n),m=wt(x.baseId,n),a=n===x.value;return e.jsx(Ps,{asChild:!0,...c,focusable:!l,active:a,children:e.jsx(K.button,{type:"button",role:"tab","aria-selected":a,"aria-controls":m,"data-state":a?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:o,...p,ref:s,onMouseDown:M(t.onMouseDown,u=>{!l&&u.button===0&&u.ctrlKey===!1?x.onValueChange(n):u.preventDefault()}),onKeyDown:M(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&x.onValueChange(n)}),onFocus:M(t.onFocus,()=>{const u=x.activationMode!=="manual";!a&&!l&&u&&x.onValueChange(n)})})})});vt.displayName=jt;var bt="TabsContent",yt=d.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:l,children:p,...x}=t,c=_e(bt,r),o=Nt(c.baseId,n),m=wt(c.baseId,n),a=n===c.value,u=d.useRef(a);return d.useEffect(()=>{const j=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(j)},[]),e.jsx($t,{present:l||a,children:({present:j})=>e.jsx(K.div,{"data-state":a?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":o,hidden:!j,id:m,tabIndex:0,...x,ref:s,style:{...t.style,animationDuration:u.current?"0s":void 0},children:j&&p})})});yt.displayName=bt;function Nt(t,s){return`${t}-trigger-${s}`}function wt(t,s){return`${t}-content-${s}`}var Rs=pt,St=gt,kt=vt,Ct=yt;const Es=Rs,It=d.forwardRef(({className:t,...s},r)=>e.jsx(St,{ref:r,className:R("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));It.displayName=St.displayName;const ae=d.forwardRef(({className:t,...s},r)=>e.jsx(kt,{ref:r,className:R("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ae.displayName=kt.displayName;const ne=d.forwardRef(({className:t,...s},r)=>e.jsx(Ct,{ref:r,className:R("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));ne.displayName=Ct.displayName;function Vs(){const[t,s]=d.useState(!1),[r,n]=d.useState(null),[l,p]=d.useState(null),[x,c]=d.useState(!1),{toast:o}=He(),{data:m=[],isLoading:a,error:u}=Xt({queryKey:["/api/products"],queryFn:async()=>{const h=await fetch("/api/products");if(!h.ok)throw new Error("Failed to fetch products");return h.json()}}),j=we({mutationFn:async h=>{const f=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!f.ok)throw new Error("Failed to create product");return f.json()},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/products"]}),s(!1),o({title:"Success",description:"Product created successfully"})},onError:()=>{o({title:"Error",description:"Failed to create product",variant:"destructive"})}}),w=we({mutationFn:async({id:h,data:f})=>{const i=await fetch(`/api/products/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!i.ok)throw new Error("Failed to update product");return i.json()},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/products"]}),n(null),o({title:"Success",description:"Product updated successfully"})},onError:()=>{o({title:"Error",description:"Failed to update product",variant:"destructive"})}}),g=we({mutationFn:async h=>{const f=await fetch(`/api/products/${h}`,{method:"DELETE"});if(!f.ok)throw new Error("Failed to delete product");return f.ok},onSuccess:()=>{be.invalidateQueries({queryKey:["/api/products"]}),o({title:"Success",description:"Product deleted successfully"})},onError:()=>{o({title:"Error",description:"Failed to delete product",variant:"destructive"})}}),k=[{title:"Total Products",value:m.length,icon:oe,color:"text-blue-600"},{title:"Categories",value:new Set(m.map(h=>h.category)).size,icon:pe,color:"text-green-600"},{title:"Avg. Price",value:m.length>0?`₹${Math.round(m.reduce((h,f)=>h+f.price,0)/m.length)}`:"₹0",icon:Z,color:"text-purple-600"},{title:"Active Products",value:m.length,icon:Ge,color:"text-orange-600"}],T=h=>{j.mutate(h)},N=h=>{r&&w.mutate({id:r.id,data:h})},S=h=>{confirm("Are you sure you want to delete this product?")&&g.mutate(h)},E=h=>{const f=m.find(i=>i.id===h);f&&(p(f),c(!0))};return a?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ye,{}),e.jsx("main",{className:"container mx-auto max-w-6xl px-6 py-8",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})})}),e.jsx(Ne,{})]}):u?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ye,{}),e.jsx("main",{className:"container mx-auto max-w-6xl px-6 py-8",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:"Error loading admin dashboard. Please try again later."})})}),e.jsx(Ne,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(ye,{}),e.jsxs("main",{className:"container mx-auto max-w-7xl px-6 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2","data-testid":"text-admin-title",children:"Admin Portal"}),e.jsx("p",{className:"text-muted-foreground","data-testid":"text-admin-subtitle",children:"Manage your product catalog and view analytics"})]}),e.jsxs(de,{open:t,onOpenChange:s,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(F,{className:"flex items-center gap-2","data-testid":"button-add-product",children:[e.jsx(Te,{className:"h-4 w-4"}),"Add New Product"]})}),e.jsxs(ue,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(me,{children:e.jsx(xe,{children:"Add New Product"})}),e.jsx(Se,{onSubmit:T,onCancel:()=>s(!1),isSubmitting:j.isPending})]})]})]}),e.jsxs(Es,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(It,{className:"grid w-full grid-cols-4",children:[e.jsxs(ae,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(ae,{value:"products",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Products"]}),e.jsxs(ae,{value:"inventory",className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),"Inventory"]}),e.jsxs(ae,{value:"analytics",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Analytics"]})]}),e.jsxs(ne,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map((h,f)=>e.jsx(C,{className:"hover-elevate","data-testid":`card-stat-${f}`,children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1","data-testid":`text-stat-title-${f}`,children:h.title}),e.jsx("p",{className:"text-2xl font-bold","data-testid":`text-stat-value-${f}`,children:h.value})]}),e.jsx("div",{className:`p-2 rounded-lg bg-muted/20 ${h.color}`,children:e.jsx(h.icon,{className:"h-6 w-6"})})]})})},f))}),e.jsxs(C,{children:[e.jsx(z,{children:e.jsx(H,{children:"Quick Actions"})}),e.jsx(I,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(de,{open:t,onOpenChange:s,children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Add New Product"]})}),e.jsxs(ue,{className:"max-w-2xl",children:[e.jsx(me,{children:e.jsx(xe,{children:"Add New Product"})}),e.jsx(Se,{onSubmit:T,onCancel:()=>s(!1),isSubmitting:j.isPending})]})]}),e.jsxs(F,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"View Inquiries"]}),e.jsxs(F,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"View Reports"]})]})})]})]}),e.jsx(ne,{value:"products",className:"space-y-6",children:e.jsxs(C,{children:[e.jsx(z,{children:e.jsxs(H,{className:"flex items-center justify-between",children:[e.jsx("span",{"data-testid":"text-products-section-title",children:"Product Management"}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground","data-testid":"text-products-count",children:[m.length," products"]})]})}),e.jsxs(I,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(h=>e.jsx(Kt,{...h,image:h.image||"https://via.placeholder.com/400x300/f3f4f6/6b7280?text=No+Image",isAdmin:!0,onView:E,onEdit:f=>n(m.find(i=>i.id===f)||null),onDelete:S},h.id))}),m.length===0&&e.jsxs("div",{className:"text-center py-12","data-testid":"text-no-products",children:[e.jsx(oe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No products found. Add your first product to get started."})]})]})]})}),e.jsx(ne,{value:"inventory",className:"space-y-6",children:e.jsx(fs,{products:m})}),e.jsx(ne,{value:"analytics",className:"space-y-6",children:e.jsx(xs,{products:m})})]}),r&&e.jsx(de,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(ue,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(me,{children:e.jsx(xe,{children:"Edit Product"})}),e.jsx(Se,{onSubmit:N,onCancel:()=>n(null),defaultValues:r?{name:r.name,description:r.description,price:r.price,category:r.category,image:r.image||void 0}:void 0,isEditing:!0,isSubmitting:w.isPending})]})}),e.jsx(Bt,{product:l,isOpen:x,onClose:()=>{c(!1),p(null)}})]}),e.jsx(Ne,{})]})}export{Vs as default};
